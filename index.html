<html>
  <head>
    <title>Hello world!</title>

    <meta name="viewport" content="width=device-width" />
  </head>
  <body>
    <script>
      const container = document.createElement("div");
      container.setAttribute("id", "test-container");
      const countdownMobile = document.createElement("div");
      countdownMobile.setAttribute("id", "countdown-mobile");
      const countdownDesktop = document.createElement("div");
      countdownDesktop.setAttribute("id", "countdown-desktop");
      countdownMobile.innerHTML = `
          <div id='upperDiv-mobile'>
      <img id='clock-mobile' src='https://www.exam-labs.com/static/img/clock_mobile.png'/>
      <span id='upperDiv-mobile-inner-div'><b class='label-mobile'>Limited Time Offer</b><span id='hr-border'><span/></span>
          </div>
          <div id='middleDiv-mobile'>
      <span class='label-mobile'>Ends in : <b><span id='hours'>00</span>:<span id='mins'>00</span>:<span id='secs'>00</span></b></span>
          </div>
          <div id='lowerDiv-mobile'>
      <span class='label-mobile' ><b id='offer-mobile'>GET 10% OFF</b></span>
      <span class='label-mobile'>Use Code: <b>EXAMSTART</b></span>
          </div>
          `;
      countdownMobile.style = `    background-color: #ffecca;
          border: 2px solid #ffd57c;
   
          border-radius: 8px;
          padding: 0.5rem 0;
          margin: 1rem 0 1.5rem;
          display:flex;
          flex-direction:column;
          justify-content:center;
       width:100%;
       position:relative;
       gap: 0.3rem;
          align-items:center;`;

      countdownDesktop.innerHTML = `
              <img id='clock-desktop' src='https://www.exam-labs.com/static/img/clock_desktop.png'/>
          <div id='leftDiv'>

      <span><b class='label-desktop'>LIMITED TIME OFFER</b></span>
          </div>
          <div id='centerDiv'>
      <span class='label-desktop'>Ends in: <b><span id='hours-desktop'>00</span>:<span id='mins-desktop'>00</span>:<span id='secs-desktop'>00</span></b></span>
          </div>
          <div id='rightDiv'>
      <span class='label-desktop' ><b id='offer-desktop'>GET 10% OFF</b></span>
      <span class='label-desktop'>Use Code: <b>EXAMSTART</b></span>
          </div>
          `;
      countdownDesktop.style = `    margin: 1rem 0 1.5rem;
    padding: 0.5rem 1.5rem 0.5rem 3rem;
    background: linear-gradient(90deg,#fb0,#f80);
    position: relative;
    border-radius: 10rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    column-gap: 1rem;
    `;

      container.style = `
padding: 0 15px;
margin: 0 auto;

`;

      // inserting into dom

      container.appendChild(countdownMobile);
      container.appendChild(countdownDesktop);
      document.body.appendChild(container);
      /* const currentDiv = document.getElementById("countDownVisible");
currentDiv.parentNode.parentNode.insertBefore(
  container,
  currentDiv.parentNode.nextSibling
); */

      //styling

      document.getElementById("clock-desktop").style = `
position: absolute;
top: 50%;
transform: translateY(-55%);
left: -10px;
height: 50px
`;
      document.getElementById("clock-mobile").style = `
height: 30px
`;

      document.getElementById("upperDiv-mobile").style = `display: flex;
 justify-content: center; align-items:center;gap:10px`;

      document.getElementById("middleDiv-mobile").style = `display: flex;
 justify-content: center;`;
      document.getElementById("lowerDiv-mobile").style = `display: flex;
justify-content: center;
max-width: 100%;
    width: 100%;
    background-color: #ffd57c;
    text-align: center;
    margin-top: 5px;
    padding: 4px 0px;
   
`;

      document.getElementById("leftDiv").style = `display: flex;
 justify-content: center; align-items:center`;

      document.getElementById("centerDiv").style = `display: flex;
 justify-content: center;`;
      document.getElementById("rightDiv").style = `display: flex;
justify-content: space-between; `;

      document.getElementById(
        "upperDiv-mobile-inner-div"
      ).style = `display: flex;flex-direction:column;
justify-content: center;align-items:center; `;
      document.getElementById("hr-border").style = `
width:85%;margin: 2px auto;border-top: 0.5px solid #a1a1a1`;
      const labels = document.getElementsByClassName("label-mobile");
      const labelsDesktop = document.getElementsByClassName("label-desktop");
      const boldTags = document.getElementsByTagName("b");
      for (let i = 0; i < boldTags.length; i++) {
        boldTags[i].style = `
font-weight:700;
`;
      }

      for (let i = 0; i < labels.length; i++) {
        labels[i].style = `
line-height: 1.65;

font-family: GothamProRegular,sans-serif;`;
        labelsDesktop[i].style = `line-height: 1.65;
font-size:18px;
letter-spacing: .0044em;
font-family: GothamProRegular,sans-serif;`;
      }

      document.getElementById("offer-mobile").style = `margin-right:20px;`;
      document.getElementById("offer-desktop").style = `margin-right:15px;`;

      // timer
      let countDownDate = new Date().getTime() + 1 * 60 * 1000;

      if (!window.localStorage.countDownDate) {
        window.localStorage.setItem(
          "countDownDate",
          new Date().getTime() + 5 * 60 * 60 * 1000
        );
        countDownDate = new Date().getTime() + 5 * 60 * 60 * 1000;
      } else {
        countDownDate = window.localStorage.getItem("countDownDate");
      }
      const timer = setInterval(function () {
        const now = new Date().getTime();
        const timeleft = countDownDate - now;

        const hours = Math.floor(
          (timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeleft % (1000 * 60)) / 1000);

        document.getElementById("hours").innerHTML =
          hours < 10 ? "0" + hours : hours;
        document.getElementById("mins").innerHTML =
          minutes < 10 ? "0" + minutes : minutes;
        document.getElementById("secs").innerHTML =
          seconds < 10 ? "0" + seconds : seconds;

        // desktop
        document.getElementById("hours-desktop").innerHTML =
          hours < 10 ? "0" + hours : hours;
        document.getElementById("mins-desktop").innerHTML =
          minutes < 10 ? "0" + minutes : minutes;
        document.getElementById("secs-desktop").innerHTML =
          seconds < 10 ? "0" + seconds : seconds;

        if (hours === 0 && minutes === 0 && seconds === 0) {
          // clearInterval(timer);
          countDownDate = new Date().getTime() + 5 * 60 * 60 * 1000;
          window.localStorage.setItem(
            "countDownDate",
            new Date().getTime() + 5 * 60 * 60 * 1000
          );
        }
        if (timeleft <= 0) {
          // clearInterval(timer);
          countDownDate = new Date().getTime() + 5 * 60 * 60 * 1000;
          window.localStorage.setItem(
            "countDownDate",
            new Date().getTime() + 5 * 60 * 60 * 1000
          );
        }
      }, 1000);

      // responsive
      function desktopRes(desk) {
        if (desk.matches) {
          document.getElementById("test-container").style = `width:1140px;
    padding: 0 15px;
margin: 0 auto;`;
        }
      }
      function tabletRes(tab) {
        if (tab.matches) {
          document.getElementById("test-container").style = `width:960px;
    padding: 0 15px;
margin: 0 auto;`;
        }
      }

      function mobileRes(mob) {
        if (mob.matches) {
          document.getElementById("test-container").style.width = "100%";
          document.getElementById("countdown-mobile").style.display = "flex";
          document.getElementById("countdown-desktop").style.display = "none";
        } else {
          document.getElementById("countdown-desktop").style.display = "flex";
          document.getElementById("countdown-mobile").style.display = "none";
        }
      }

      let desktop = window.matchMedia(
        "(min-width: 1200px) and (max-width: 1500px)"
      );
      let tablet = window.matchMedia(
        " (min-width: 925px) and (max-width: 1200px)"
      );
      let mobile = window.matchMedia("(max-width: 925px)");

      // Call listener function at run time

      desktopRes(desktop);
      tabletRes(tablet);
      mobileRes(mobile);

      desktop.addEventListener("change", desktopRes);
      tablet.addEventListener("change", tabletRes);
      mobile.addEventListener("change", mobileRes);
    </script>
  </body>
</html>
